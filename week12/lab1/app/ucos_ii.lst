GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 1


   1               		.file	"ucos_ii.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	OSIntEnter
  10               		.type	OSIntEnter, @function
  11               	OSIntEnter:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 8091 0000 		lds r24,OSRunning
  15 0004 8130      		cpi r24,lo8(1)
  16 0006 01F0      		breq .L5
  17               	.L3:
  18 0008 0895      		ret
  19               	.L5:
  20 000a 8091 0000 		lds r24,OSIntNesting
  21 000e 8F3F      		cpi r24,lo8(-1)
  22 0010 01F0      		breq .L3
  23 0012 8F5F      		subi r24,lo8(-(1))
  24 0014 8093 0000 		sts OSIntNesting,r24
  25 0018 0895      		ret
  26               		.size	OSIntEnter, .-OSIntEnter
  27               	.global	OSSchedLock
  28               		.type	OSSchedLock, @function
  29               	OSSchedLock:
  30               	/* prologue: function */
  31               	/* frame size = 0 */
  32 001a 8091 0000 		lds r24,OSRunning
  33 001e 8130      		cpi r24,lo8(1)
  34 0020 01F0      		breq .L10
  35 0022 0895      		ret
  36               	.L10:
  37               	/* #APP */
  38               	 ;  222 "c:/ex1/source/os_core.c" 1
  39 0024 F894      		cli
  40               	 ;  0 "" 2
  41               	/* #NOAPP */
  42 0026 8091 0000 		lds r24,OSLockNesting
  43 002a 8F3F      		cpi r24,lo8(-1)
  44 002c 01F0      		breq .L8
  45 002e 8F5F      		subi r24,lo8(-(1))
  46 0030 8093 0000 		sts OSLockNesting,r24
  47               	.L8:
  48               	/* #APP */
  49               	 ;  226 "c:/ex1/source/os_core.c" 1
  50 0034 7894      		sei
  51               	 ;  0 "" 2
  52               	/* #NOAPP */
  53 0036 0895      		ret
  54               		.size	OSSchedLock, .-OSSchedLock
  55               	.global	OSVersion
  56               		.type	OSVersion, @function
  57               	OSVersion:
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60 0038 8CEF      		ldi r24,lo8(252)
  61 003a 90E0      		ldi r25,hi8(252)
  62               	/* epilogue start */
  63 003c 0895      		ret
  64               		.size	OSVersion, .-OSVersion
  65               	.global	OS_EventTaskRdy
  66               		.type	OS_EventTaskRdy, @function
  67               	OS_EventTaskRdy:
  68 003e 1F93      		push r17
  69 0040 CF93      		push r28
  70 0042 DF93      		push r29
  71               	/* prologue: function */
  72               	/* frame size = 0 */
  73 0044 EC01      		movw r28,r24
  74 0046 142F      		mov r17,r20
  75 0048 3981      		ldd r19,Y+1
  76 004a E32F      		mov r30,r19
  77 004c F0E0      		ldi r31,lo8(0)
  78 004e E050      		subi r30,lo8(-(OSUnMapTbl))
  79 0050 F040      		sbci r31,hi8(-(OSUnMapTbl))
  80 0052 2081      		ld r18,Z
  81 0054 622F      		mov r22,r18
  82 0056 70E0      		ldi r23,lo8(0)
  83 0058 FB01      		movw r30,r22
  84 005a E050      		subi r30,lo8(-(OSMapTbl))
  85 005c F040      		sbci r31,hi8(-(OSMapTbl))
  86 005e 4081      		ld r20,Z
  87 0060 DC01      		movw r26,r24
  88 0062 A60F      		add r26,r22
  89 0064 B71F      		adc r27,r23
  90 0066 1696      		adiw r26,6
  91 0068 9C91      		ld r25,X
  92 006a 1697      		sbiw r26,6
  93 006c E92F      		mov r30,r25
  94 006e F0E0      		ldi r31,lo8(0)
  95 0070 E050      		subi r30,lo8(-(OSUnMapTbl))
  96 0072 F040      		sbci r31,hi8(-(OSUnMapTbl))
  97 0074 8081      		ld r24,Z
  98 0076 E82F      		mov r30,r24
  99 0078 F0E0      		ldi r31,lo8(0)
 100 007a E050      		subi r30,lo8(-(OSMapTbl))
 101 007c F040      		sbci r31,hi8(-(OSMapTbl))
 102 007e 5081      		ld r21,Z
 103 0080 220F      		lsl r18
 104 0082 220F      		lsl r18
 105 0084 220F      		lsl r18
 106 0086 280F      		add r18,r24
 107 0088 852F      		mov r24,r21
 108 008a 8095      		com r24
 109 008c 8923      		and r24,r25
 110 008e 1696      		adiw r26,6
 111 0090 8C93      		st X,r24
 112 0092 8823      		tst r24
 113 0094 01F4      		brne .L14
 114 0096 842F      		mov r24,r20
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 3


 115 0098 8095      		com r24
 116 009a 3823      		and r19,r24
 117 009c 3983      		std Y+1,r19
 118               	.L14:
 119 009e E22F      		mov r30,r18
 120 00a0 F0E0      		ldi r31,lo8(0)
 121 00a2 EE0F      		lsl r30
 122 00a4 FF1F      		rol r31
 123 00a6 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 124 00a8 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 125 00aa 0190      		ld __tmp_reg__,Z+
 126 00ac F081      		ld r31,Z
 127 00ae E02D      		mov r30,__tmp_reg__
 128 00b0 1186      		std Z+9,__zero_reg__
 129 00b2 1086      		std Z+8,__zero_reg__
 130 00b4 1782      		std Z+7,__zero_reg__
 131 00b6 1682      		std Z+6,__zero_reg__
 132 00b8 812F      		mov r24,r17
 133 00ba 8095      		com r24
 134 00bc 9285      		ldd r25,Z+10
 135 00be 8923      		and r24,r25
 136 00c0 8287      		std Z+10,r24
 137 00c2 8823      		tst r24
 138 00c4 01F4      		brne .L15
 139 00c6 8091 0000 		lds r24,OSRdyGrp
 140 00ca 842B      		or r24,r20
 141 00cc 8093 0000 		sts OSRdyGrp,r24
 142 00d0 FB01      		movw r30,r22
 143 00d2 E050      		subi r30,lo8(-(OSRdyTbl))
 144 00d4 F040      		sbci r31,hi8(-(OSRdyTbl))
 145 00d6 8081      		ld r24,Z
 146 00d8 582B      		or r21,r24
 147 00da 5083      		st Z,r21
 148               	.L15:
 149 00dc 822F      		mov r24,r18
 150               	/* epilogue start */
 151 00de DF91      		pop r29
 152 00e0 CF91      		pop r28
 153 00e2 1F91      		pop r17
 154 00e4 0895      		ret
 155               		.size	OS_EventTaskRdy, .-OS_EventTaskRdy
 156               	.global	OS_EventTaskWait
 157               		.type	OS_EventTaskWait, @function
 158               	OS_EventTaskWait:
 159 00e6 CF93      		push r28
 160 00e8 DF93      		push r29
 161               	/* prologue: function */
 162               	/* frame size = 0 */
 163 00ea EC01      		movw r28,r24
 164 00ec A091 0000 		lds r26,OSTCBCur
 165 00f0 B091 0000 		lds r27,(OSTCBCur)+1
 166 00f4 1796      		adiw r26,6+1
 167 00f6 9C93      		st X,r25
 168 00f8 8E93      		st -X,r24
 169 00fa 1697      		sbiw r26,6
 170 00fc 1D96      		adiw r26,13
 171 00fe 8C91      		ld r24,X
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 4


 172 0100 1D97      		sbiw r26,13
 173 0102 482F      		mov r20,r24
 174 0104 50E0      		ldi r21,lo8(0)
 175 0106 1E96      		adiw r26,14
 176 0108 3C91      		ld r19,X
 177 010a 1E97      		sbiw r26,14
 178 010c FA01      		movw r30,r20
 179 010e E050      		subi r30,lo8(-(OSRdyTbl))
 180 0110 F040      		sbci r31,hi8(-(OSRdyTbl))
 181 0112 832F      		mov r24,r19
 182 0114 8095      		com r24
 183 0116 9081      		ld r25,Z
 184 0118 8923      		and r24,r25
 185 011a 8083      		st Z,r24
 186 011c 8823      		tst r24
 187 011e 01F4      		brne .L21
 188 0120 1F96      		adiw r26,15
 189 0122 2C91      		ld r18,X
 190 0124 922F      		mov r25,r18
 191 0126 9095      		com r25
 192 0128 8091 0000 		lds r24,OSRdyGrp
 193 012c 8923      		and r24,r25
 194 012e 8093 0000 		sts OSRdyGrp,r24
 195               	.L19:
 196 0132 FE01      		movw r30,r28
 197 0134 E40F      		add r30,r20
 198 0136 F51F      		adc r31,r21
 199 0138 8681      		ldd r24,Z+6
 200 013a 832B      		or r24,r19
 201 013c 8683      		std Z+6,r24
 202 013e 8981      		ldd r24,Y+1
 203 0140 822B      		or r24,r18
 204 0142 8983      		std Y+1,r24
 205               	/* epilogue start */
 206 0144 DF91      		pop r29
 207 0146 CF91      		pop r28
 208 0148 0895      		ret
 209               	.L21:
 210 014a 1F96      		adiw r26,15
 211 014c 2C91      		ld r18,X
 212 014e 00C0      		rjmp .L19
 213               		.size	OS_EventTaskWait, .-OS_EventTaskWait
 214               	.global	OS_EventTO
 215               		.type	OS_EventTO, @function
 216               	OS_EventTO:
 217 0150 CF93      		push r28
 218 0152 DF93      		push r29
 219               	/* prologue: function */
 220               	/* frame size = 0 */
 221 0154 EC01      		movw r28,r24
 222 0156 A091 0000 		lds r26,OSTCBCur
 223 015a B091 0000 		lds r27,(OSTCBCur)+1
 224 015e 1D96      		adiw r26,13
 225 0160 8C91      		ld r24,X
 226 0162 1D97      		sbiw r26,13
 227 0164 FE01      		movw r30,r28
 228 0166 E80F      		add r30,r24
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 5


 229 0168 F11D      		adc r31,__zero_reg__
 230 016a 1E96      		adiw r26,14
 231 016c 8C91      		ld r24,X
 232 016e 1E97      		sbiw r26,14
 233 0170 8095      		com r24
 234 0172 9681      		ldd r25,Z+6
 235 0174 8923      		and r24,r25
 236 0176 8683      		std Z+6,r24
 237 0178 8823      		tst r24
 238 017a 01F4      		brne .L23
 239 017c 1F96      		adiw r26,15
 240 017e 9C91      		ld r25,X
 241 0180 1F97      		sbiw r26,15
 242 0182 9095      		com r25
 243 0184 8981      		ldd r24,Y+1
 244 0186 8923      		and r24,r25
 245 0188 8983      		std Y+1,r24
 246               	.L23:
 247 018a 1A96      		adiw r26,10
 248 018c 1C92      		st X,__zero_reg__
 249 018e 1A97      		sbiw r26,10
 250 0190 1796      		adiw r26,6+1
 251 0192 1C92      		st X,__zero_reg__
 252 0194 1E92      		st -X,__zero_reg__
 253 0196 1697      		sbiw r26,6
 254               	/* epilogue start */
 255 0198 DF91      		pop r29
 256 019a CF91      		pop r28
 257 019c 0895      		ret
 258               		.size	OS_EventTO, .-OS_EventTO
 259               	.global	OS_EventWaitListInit
 260               		.type	OS_EventWaitListInit, @function
 261               	OS_EventWaitListInit:
 262               	/* prologue: function */
 263               	/* frame size = 0 */
 264 019e FC01      		movw r30,r24
 265 01a0 1182      		std Z+1,__zero_reg__
 266 01a2 1682      		std Z+6,__zero_reg__
 267 01a4 1782      		std Z+7,__zero_reg__
 268               	/* epilogue start */
 269 01a6 0895      		ret
 270               		.size	OS_EventWaitListInit, .-OS_EventWaitListInit
 271               	.global	OSSemCreate
 272               		.type	OSSemCreate, @function
 273               	OSSemCreate:
 274               	/* prologue: function */
 275               	/* frame size = 0 */
 276 01a8 9C01      		movw r18,r24
 277 01aa 8091 0000 		lds r24,OSIntNesting
 278 01ae 8823      		tst r24
 279 01b0 01F4      		brne .L32
 280               	/* #APP */
 281               	 ;  94 "c:/ex1/source/os_sem.c" 1
 282 01b2 F894      		cli
 283               	 ;  0 "" 2
 284               	/* #NOAPP */
 285 01b4 E091 0000 		lds r30,OSEventFreeList
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 6


 286 01b8 F091 0000 		lds r31,(OSEventFreeList)+1
 287 01bc 3097      		sbiw r30,0
 288 01be 01F0      		breq .L30
 289 01c0 8481      		ldd r24,Z+4
 290 01c2 9581      		ldd r25,Z+5
 291 01c4 9093 0000 		sts (OSEventFreeList)+1,r25
 292 01c8 8093 0000 		sts OSEventFreeList,r24
 293               	.L30:
 294               	/* #APP */
 295               	 ;  99 "c:/ex1/source/os_sem.c" 1
 296 01cc 7894      		sei
 297               	 ;  0 "" 2
 298               	/* #NOAPP */
 299 01ce 3097      		sbiw r30,0
 300 01d0 01F0      		breq .L29
 301 01d2 83E0      		ldi r24,lo8(3)
 302 01d4 8083      		st Z,r24
 303 01d6 3383      		std Z+3,r19
 304 01d8 2283      		std Z+2,r18
 305 01da 1582      		std Z+5,__zero_reg__
 306 01dc 1482      		std Z+4,__zero_reg__
 307 01de 1182      		std Z+1,__zero_reg__
 308 01e0 1682      		std Z+6,__zero_reg__
 309 01e2 1782      		std Z+7,__zero_reg__
 310               	.L29:
 311 01e4 CF01      		movw r24,r30
 312               	/* epilogue start */
 313 01e6 0895      		ret
 314               	.L32:
 315 01e8 E0E0      		ldi r30,lo8(0)
 316 01ea F0E0      		ldi r31,hi8(0)
 317 01ec CF01      		movw r24,r30
 318 01ee 0895      		ret
 319               		.size	OSSemCreate, .-OSSemCreate
 320               	.global	OS_TCBInit
 321               		.type	OS_TCBInit, @function
 322               	OS_TCBInit:
 323 01f0 1F93      		push r17
 324 01f2 CF93      		push r28
 325 01f4 DF93      		push r29
 326               	/* prologue: function */
 327               	/* frame size = 0 */
 328 01f6 182F      		mov r17,r24
 329               	/* #APP */
 330               	 ;  1043 "c:/ex1/source/os_core.c" 1
 331 01f8 F894      		cli
 332               	 ;  0 "" 2
 333               	/* #NOAPP */
 334 01fa C091 0000 		lds r28,OSTCBFreeList
 335 01fe D091 0000 		lds r29,(OSTCBFreeList)+1
 336 0202 2097      		sbiw r28,0
 337 0204 01F4      		brne .+2
 338 0206 00C0      		rjmp .L34
 339 0208 8A81      		ldd r24,Y+2
 340 020a 9B81      		ldd r25,Y+3
 341 020c 9093 0000 		sts (OSTCBFreeList)+1,r25
 342 0210 8093 0000 		sts OSTCBFreeList,r24
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 7


 343               	/* #APP */
 344               	 ;  1047 "c:/ex1/source/os_core.c" 1
 345 0214 7894      		sei
 346               	 ;  0 "" 2
 347               	/* #NOAPP */
 348 0216 7983      		std Y+1,r23
 349 0218 6883      		st Y,r22
 350 021a 1B87      		std Y+11,r17
 351 021c 1A86      		std Y+10,__zero_reg__
 352 021e 1986      		std Y+9,__zero_reg__
 353 0220 1886      		std Y+8,__zero_reg__
 354 0222 E12F      		mov r30,r17
 355 0224 E695      		lsr r30
 356 0226 E695      		lsr r30
 357 0228 E695      		lsr r30
 358 022a ED87      		std Y+13,r30
 359 022c F0E0      		ldi r31,lo8(0)
 360 022e E050      		subi r30,lo8(-(OSMapTbl))
 361 0230 F040      		sbci r31,hi8(-(OSMapTbl))
 362 0232 8081      		ld r24,Z
 363 0234 8F87      		std Y+15,r24
 364 0236 E12F      		mov r30,r17
 365 0238 E770      		andi r30,lo8(7)
 366 023a EC87      		std Y+12,r30
 367 023c F0E0      		ldi r31,lo8(0)
 368 023e E050      		subi r30,lo8(-(OSMapTbl))
 369 0240 F040      		sbci r31,hi8(-(OSMapTbl))
 370 0242 8081      		ld r24,Z
 371 0244 8E87      		std Y+14,r24
 372 0246 1F82      		std Y+7,__zero_reg__
 373 0248 1E82      		std Y+6,__zero_reg__
 374 024a CE01      		movw r24,r28
 375 024c 0E94 0000 		call OSTCBInitHook
 376 0250 CE01      		movw r24,r28
 377 0252 0E94 0000 		call OSTaskCreateHook
 378               	/* #APP */
 379               	 ;  1094 "c:/ex1/source/os_core.c" 1
 380 0256 F894      		cli
 381               	 ;  0 "" 2
 382               	/* #NOAPP */
 383 0258 E12F      		mov r30,r17
 384 025a F0E0      		ldi r31,lo8(0)
 385 025c EE0F      		lsl r30
 386 025e FF1F      		rol r31
 387 0260 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 388 0262 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 389 0264 D183      		std Z+1,r29
 390 0266 C083      		st Z,r28
 391 0268 E091 0000 		lds r30,OSTCBList
 392 026c F091 0000 		lds r31,(OSTCBList)+1
 393 0270 FB83      		std Y+3,r31
 394 0272 EA83      		std Y+2,r30
 395 0274 1D82      		std Y+5,__zero_reg__
 396 0276 1C82      		std Y+4,__zero_reg__
 397 0278 3097      		sbiw r30,0
 398 027a 01F0      		breq .L35
 399 027c D583      		std Z+5,r29
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 8


 400 027e C483      		std Z+4,r28
 401               	.L35:
 402 0280 D093 0000 		sts (OSTCBList)+1,r29
 403 0284 C093 0000 		sts OSTCBList,r28
 404 0288 8091 0000 		lds r24,OSRdyGrp
 405 028c 9F85      		ldd r25,Y+15
 406 028e 892B      		or r24,r25
 407 0290 8093 0000 		sts OSRdyGrp,r24
 408 0294 ED85      		ldd r30,Y+13
 409 0296 F0E0      		ldi r31,lo8(0)
 410 0298 E050      		subi r30,lo8(-(OSRdyTbl))
 411 029a F040      		sbci r31,hi8(-(OSRdyTbl))
 412 029c 8081      		ld r24,Z
 413 029e 9E85      		ldd r25,Y+14
 414 02a0 892B      		or r24,r25
 415 02a2 8083      		st Z,r24
 416               	/* #APP */
 417               	 ;  1104 "c:/ex1/source/os_core.c" 1
 418 02a4 7894      		sei
 419               	 ;  0 "" 2
 420               	/* #NOAPP */
 421 02a6 80E0      		ldi r24,lo8(0)
 422               	/* epilogue start */
 423 02a8 DF91      		pop r29
 424 02aa CF91      		pop r28
 425 02ac 1F91      		pop r17
 426 02ae 0895      		ret
 427               	.L34:
 428               	/* #APP */
 429               	 ;  1107 "c:/ex1/source/os_core.c" 1
 430 02b0 7894      		sei
 431               	 ;  0 "" 2
 432               	/* #NOAPP */
 433 02b2 86E4      		ldi r24,lo8(70)
 434 02b4 DF91      		pop r29
 435 02b6 CF91      		pop r28
 436 02b8 1F91      		pop r17
 437 02ba 0895      		ret
 438               		.size	OS_TCBInit, .-OS_TCBInit
 439               	.global	OS_TaskIdle
 440               		.type	OS_TaskIdle, @function
 441               	OS_TaskIdle:
 442               	/* prologue: function */
 443               	/* frame size = 0 */
 444               	.L39:
 445               	/* #APP */
 446               	 ;  920 "c:/ex1/source/os_core.c" 1
 447 02bc F894      		cli
 448               	 ;  0 "" 2
 449               	/* #NOAPP */
 450 02be 8091 0000 		lds r24,OSIdleCtr
 451 02c2 9091 0000 		lds r25,(OSIdleCtr)+1
 452 02c6 A091 0000 		lds r26,(OSIdleCtr)+2
 453 02ca B091 0000 		lds r27,(OSIdleCtr)+3
 454 02ce 0196      		adiw r24,1
 455 02d0 A11D      		adc r26,__zero_reg__
 456 02d2 B11D      		adc r27,__zero_reg__
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 9


 457 02d4 8093 0000 		sts OSIdleCtr,r24
 458 02d8 9093 0000 		sts (OSIdleCtr)+1,r25
 459 02dc A093 0000 		sts (OSIdleCtr)+2,r26
 460 02e0 B093 0000 		sts (OSIdleCtr)+3,r27
 461               	/* #APP */
 462               	 ;  922 "c:/ex1/source/os_core.c" 1
 463 02e4 7894      		sei
 464               	 ;  0 "" 2
 465               	/* #NOAPP */
 466 02e6 0E94 0000 		call OSTaskIdleHook
 467 02ea 00C0      		rjmp .L39
 468               		.size	OS_TaskIdle, .-OS_TaskIdle
 469               	.global	OS_Sched
 470               		.type	OS_Sched, @function
 471               	OS_Sched:
 472               	/* prologue: function */
 473               	/* frame size = 0 */
 474               	/* #APP */
 475               	 ;  877 "c:/ex1/source/os_core.c" 1
 476 02ec F894      		cli
 477               	 ;  0 "" 2
 478               	/* #NOAPP */
 479 02ee 8091 0000 		lds r24,OSIntNesting
 480 02f2 8823      		tst r24
 481 02f4 01F0      		breq .+2
 482 02f6 00C0      		rjmp .L42
 483 02f8 8091 0000 		lds r24,OSLockNesting
 484 02fc 8823      		tst r24
 485 02fe 01F4      		brne .L42
 486 0300 E091 0000 		lds r30,OSRdyGrp
 487 0304 F0E0      		ldi r31,lo8(0)
 488 0306 E050      		subi r30,lo8(-(OSUnMapTbl))
 489 0308 F040      		sbci r31,hi8(-(OSUnMapTbl))
 490 030a 8081      		ld r24,Z
 491 030c E82F      		mov r30,r24
 492 030e F0E0      		ldi r31,lo8(0)
 493 0310 E050      		subi r30,lo8(-(OSRdyTbl))
 494 0312 F040      		sbci r31,hi8(-(OSRdyTbl))
 495 0314 E081      		ld r30,Z
 496 0316 F0E0      		ldi r31,lo8(0)
 497 0318 E050      		subi r30,lo8(-(OSUnMapTbl))
 498 031a F040      		sbci r31,hi8(-(OSUnMapTbl))
 499 031c 982F      		mov r25,r24
 500 031e 990F      		lsl r25
 501 0320 990F      		lsl r25
 502 0322 990F      		lsl r25
 503 0324 8081      		ld r24,Z
 504 0326 980F      		add r25,r24
 505 0328 9093 0000 		sts OSPrioHighRdy,r25
 506 032c 8091 0000 		lds r24,OSPrioCur
 507 0330 9817      		cp r25,r24
 508 0332 01F0      		breq .L42
 509 0334 E92F      		mov r30,r25
 510 0336 F0E0      		ldi r31,lo8(0)
 511 0338 EE0F      		lsl r30
 512 033a FF1F      		rol r31
 513 033c E050      		subi r30,lo8(-(OSTCBPrioTbl))
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 10


 514 033e F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 515 0340 8081      		ld r24,Z
 516 0342 9181      		ldd r25,Z+1
 517 0344 9093 0000 		sts (OSTCBHighRdy)+1,r25
 518 0348 8093 0000 		sts OSTCBHighRdy,r24
 519 034c 8091 0000 		lds r24,OSCtxSwCtr
 520 0350 9091 0000 		lds r25,(OSCtxSwCtr)+1
 521 0354 A091 0000 		lds r26,(OSCtxSwCtr)+2
 522 0358 B091 0000 		lds r27,(OSCtxSwCtr)+3
 523 035c 0196      		adiw r24,1
 524 035e A11D      		adc r26,__zero_reg__
 525 0360 B11D      		adc r27,__zero_reg__
 526 0362 8093 0000 		sts OSCtxSwCtr,r24
 527 0366 9093 0000 		sts (OSCtxSwCtr)+1,r25
 528 036a A093 0000 		sts (OSCtxSwCtr)+2,r26
 529 036e B093 0000 		sts (OSCtxSwCtr)+3,r27
 530 0372 0E94 0000 		call OSCtxSw
 531               	.L42:
 532               	/* #APP */
 533               	 ;  887 "c:/ex1/source/os_core.c" 1
 534 0376 7894      		sei
 535               	 ;  0 "" 2
 536               	/* epilogue start */
 537               	/* #NOAPP */
 538 0378 0895      		ret
 539               		.size	OS_Sched, .-OS_Sched
 540               	.global	OSTimeDly
 541               		.type	OSTimeDly, @function
 542               	OSTimeDly:
 543               	/* prologue: function */
 544               	/* frame size = 0 */
 545 037a 9C01      		movw r18,r24
 546 037c 0097      		sbiw r24,0
 547 037e 01F0      		breq .L47
 548               	/* #APP */
 549               	 ;  43 "c:/ex1/source/os_time.c" 1
 550 0380 F894      		cli
 551               	 ;  0 "" 2
 552               	/* #NOAPP */
 553 0382 A091 0000 		lds r26,OSTCBCur
 554 0386 B091 0000 		lds r27,(OSTCBCur)+1
 555 038a 1D96      		adiw r26,13
 556 038c EC91      		ld r30,X
 557 038e 1D97      		sbiw r26,13
 558 0390 F0E0      		ldi r31,lo8(0)
 559 0392 E050      		subi r30,lo8(-(OSRdyTbl))
 560 0394 F040      		sbci r31,hi8(-(OSRdyTbl))
 561 0396 1E96      		adiw r26,14
 562 0398 8C91      		ld r24,X
 563 039a 1E97      		sbiw r26,14
 564 039c 8095      		com r24
 565 039e 9081      		ld r25,Z
 566 03a0 8923      		and r24,r25
 567 03a2 8083      		st Z,r24
 568 03a4 8823      		tst r24
 569 03a6 01F4      		brne .L46
 570 03a8 1F96      		adiw r26,15
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 11


 571 03aa 9C91      		ld r25,X
 572 03ac 1F97      		sbiw r26,15
 573 03ae 9095      		com r25
 574 03b0 8091 0000 		lds r24,OSRdyGrp
 575 03b4 8923      		and r24,r25
 576 03b6 8093 0000 		sts OSRdyGrp,r24
 577               	.L46:
 578 03ba 1996      		adiw r26,8+1
 579 03bc 3C93      		st X,r19
 580 03be 2E93      		st -X,r18
 581 03c0 1897      		sbiw r26,8
 582               	/* #APP */
 583               	 ;  48 "c:/ex1/source/os_time.c" 1
 584 03c2 7894      		sei
 585               	 ;  0 "" 2
 586               	/* #NOAPP */
 587 03c4 0E94 0000 		call OS_Sched
 588               	.L47:
 589 03c8 0895      		ret
 590               		.size	OSTimeDly, .-OSTimeDly
 591               	.global	OSTimeDlyHMSM
 592               		.type	OSTimeDlyHMSM, @function
 593               	OSTimeDlyHMSM:
 594 03ca 8F92      		push r8
 595 03cc 9F92      		push r9
 596 03ce AF92      		push r10
 597 03d0 BF92      		push r11
 598 03d2 CF92      		push r12
 599 03d4 DF92      		push r13
 600 03d6 EF92      		push r14
 601 03d8 FF92      		push r15
 602 03da 0F93      		push r16
 603 03dc 1F93      		push r17
 604 03de CF93      		push r28
 605 03e0 DF93      		push r29
 606               	/* prologue: function */
 607               	/* frame size = 0 */
 608 03e2 882E      		mov r8,r24
 609 03e4 162F      		mov r17,r22
 610 03e6 942E      		mov r9,r20
 611 03e8 8823      		tst r24
 612 03ea 01F0      		breq .L59
 613               	.L49:
 614 03ec 1C33      		cpi r17,lo8(60)
 615 03ee 00F4      		brsh .L60
 616               	.L50:
 617 03f0 8BE3      		ldi r24,lo8(59)
 618 03f2 8915      		cp r24,r9
 619 03f4 00F0      		brlo .L61
 620               	.L51:
 621 03f6 93E0      		ldi r25,hi8(1000)
 622 03f8 283E      		cpi r18,lo8(1000)
 623 03fa 3907      		cpc r19,r25
 624 03fc 00F0      		brlo .L53
 625 03fe 83E5      		ldi r24,lo8(83)
 626               	.L52:
 627               	/* epilogue start */
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 12


 628 0400 DF91      		pop r29
 629 0402 CF91      		pop r28
 630 0404 1F91      		pop r17
 631 0406 0F91      		pop r16
 632 0408 FF90      		pop r15
 633 040a EF90      		pop r14
 634 040c DF90      		pop r13
 635 040e CF90      		pop r12
 636 0410 BF90      		pop r11
 637 0412 AF90      		pop r10
 638 0414 9F90      		pop r9
 639 0416 8F90      		pop r8
 640 0418 0895      		ret
 641               	.L61:
 642 041a 82E5      		ldi r24,lo8(82)
 643 041c 00C0      		rjmp .L52
 644               	.L59:
 645 041e 6623      		tst r22
 646 0420 01F4      		brne .L49
 647 0422 4423      		tst r20
 648 0424 01F4      		brne .L50
 649 0426 2115      		cp r18,__zero_reg__
 650 0428 3105      		cpc r19,__zero_reg__
 651 042a 01F4      		brne .L51
 652 042c 84E5      		ldi r24,lo8(84)
 653 042e 00C0      		rjmp .L52
 654               	.L60:
 655 0430 81E5      		ldi r24,lo8(81)
 656 0432 00C0      		rjmp .L52
 657               	.L53:
 658 0434 B901      		movw r22,r18
 659 0436 80E0      		ldi r24,lo8(0)
 660 0438 90E0      		ldi r25,hi8(0)
 661 043a 24E6      		ldi r18,lo8(100)
 662 043c 30E0      		ldi r19,hi8(100)
 663 043e 40E0      		ldi r20,hlo8(100)
 664 0440 50E0      		ldi r21,hhi8(100)
 665 0442 0E94 0000 		call __mulsi3
 666 0446 6C50      		subi r22,lo8(-(500))
 667 0448 7E4F      		sbci r23,hi8(-(500))
 668 044a 8F4F      		sbci r24,hlo8(-(500))
 669 044c 9F4F      		sbci r25,hhi8(-(500))
 670 044e 28EE      		ldi r18,lo8(1000)
 671 0450 33E0      		ldi r19,hi8(1000)
 672 0452 40E0      		ldi r20,hlo8(1000)
 673 0454 50E0      		ldi r21,hhi8(1000)
 674 0456 0E94 0000 		call __udivmodsi4
 675 045a 5901      		movw r10,r18
 676 045c 6A01      		movw r12,r20
 677 045e 612F      		mov r22,r17
 678 0460 70E0      		ldi r23,lo8(0)
 679 0462 80E0      		ldi r24,lo8(0)
 680 0464 90E0      		ldi r25,hi8(0)
 681 0466 2CE3      		ldi r18,lo8(60)
 682 0468 30E0      		ldi r19,hi8(60)
 683 046a 40E0      		ldi r20,hlo8(60)
 684 046c 50E0      		ldi r21,hhi8(60)
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 13


 685 046e 0E94 0000 		call __mulsi3
 686 0472 7B01      		movw r14,r22
 687 0474 8C01      		movw r16,r24
 688 0476 E90C      		add r14,r9
 689 0478 F11C      		adc r15,__zero_reg__
 690 047a 011D      		adc r16,__zero_reg__
 691 047c 111D      		adc r17,__zero_reg__
 692 047e 682D      		mov r22,r8
 693 0480 70E0      		ldi r23,lo8(0)
 694 0482 80E0      		ldi r24,lo8(0)
 695 0484 90E0      		ldi r25,hi8(0)
 696 0486 20E1      		ldi r18,lo8(3600)
 697 0488 3EE0      		ldi r19,hi8(3600)
 698 048a 40E0      		ldi r20,hlo8(3600)
 699 048c 50E0      		ldi r21,hhi8(3600)
 700 048e 0E94 0000 		call __mulsi3
 701 0492 E60E      		add r14,r22
 702 0494 F71E      		adc r15,r23
 703 0496 081F      		adc r16,r24
 704 0498 191F      		adc r17,r25
 705 049a C801      		movw r24,r16
 706 049c B701      		movw r22,r14
 707 049e 24E6      		ldi r18,lo8(100)
 708 04a0 30E0      		ldi r19,hi8(100)
 709 04a2 40E0      		ldi r20,hlo8(100)
 710 04a4 50E0      		ldi r21,hhi8(100)
 711 04a6 0E94 0000 		call __mulsi3
 712 04aa A60E      		add r10,r22
 713 04ac B71E      		adc r11,r23
 714 04ae C81E      		adc r12,r24
 715 04b0 D91E      		adc r13,r25
 716 04b2 7601      		movw r14,r12
 717 04b4 0027      		clr r16
 718 04b6 1127      		clr r17
 719 04b8 E701      		movw r28,r14
 720 04ba 8FEF      		ldi r24,lo8(65535)
 721 04bc 9FEF      		ldi r25,hi8(65535)
 722 04be A0E0      		ldi r26,hlo8(65535)
 723 04c0 B0E0      		ldi r27,hhi8(65535)
 724 04c2 A822      		and r10,r24
 725 04c4 B922      		and r11,r25
 726 04c6 CA22      		and r12,r26
 727 04c8 DB22      		and r13,r27
 728 04ca C501      		movw r24,r10
 729 04cc 0E94 0000 		call OSTimeDly
 730 04d0 EF28      		or r14,r15
 731 04d2 01F0      		breq .L54
 732               	.L57:
 733 04d4 80E0      		ldi r24,lo8(-32768)
 734 04d6 90E8      		ldi r25,hi8(-32768)
 735 04d8 0E94 0000 		call OSTimeDly
 736 04dc 80E0      		ldi r24,lo8(-32768)
 737 04de 90E8      		ldi r25,hi8(-32768)
 738 04e0 0E94 0000 		call OSTimeDly
 739 04e4 2197      		sbiw r28,1
 740 04e6 01F4      		brne .L57
 741               	.L54:
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 14


 742 04e8 80E0      		ldi r24,lo8(0)
 743 04ea 00C0      		rjmp .L52
 744               		.size	OSTimeDlyHMSM, .-OSTimeDlyHMSM
 745               	.global	OS_TaskStat
 746               		.type	OS_TaskStat, @function
 747               	OS_TaskStat:
 748 04ec DF92      		push r13
 749 04ee EF92      		push r14
 750 04f0 FF92      		push r15
 751 04f2 0F93      		push r16
 752 04f4 1F93      		push r17
 753               	/* prologue: function */
 754               	/* frame size = 0 */
 755 04f6 8091 0000 		lds r24,OSStatRdy
 756 04fa 8823      		tst r24
 757 04fc 01F4      		brne .L63
 758               	.L70:
 759 04fe 88EC      		ldi r24,lo8(200)
 760 0500 90E0      		ldi r25,hi8(200)
 761 0502 0E94 0000 		call OSTimeDly
 762 0506 8091 0000 		lds r24,OSStatRdy
 763 050a 8823      		tst r24
 764 050c 01F0      		breq .L70
 765               	.L63:
 766 050e 6091 0000 		lds r22,OSIdleCtrMax
 767 0512 7091 0000 		lds r23,(OSIdleCtrMax)+1
 768 0516 8091 0000 		lds r24,(OSIdleCtrMax)+2
 769 051a 9091 0000 		lds r25,(OSIdleCtrMax)+3
 770 051e 24E6      		ldi r18,lo8(100)
 771 0520 30E0      		ldi r19,hi8(100)
 772 0522 40E0      		ldi r20,hlo8(100)
 773 0524 50E0      		ldi r21,hhi8(100)
 774 0526 0E94 0000 		call __udivmodsi4
 775 052a C901      		movw r24,r18
 776 052c DA01      		movw r26,r20
 777 052e 7C01      		movw r14,r24
 778 0530 8D01      		movw r16,r26
 779 0532 44E6      		ldi r20,lo8(100)
 780 0534 D42E      		mov r13,r20
 781 0536 00C0      		rjmp .L68
 782               	.L72:
 783 0538 A801      		movw r20,r16
 784 053a 9701      		movw r18,r14
 785 053c 0E94 0000 		call __udivmodsi4
 786 0540 8D2D      		mov r24,r13
 787 0542 821B      		sub r24,r18
 788 0544 87FD      		sbrc r24,7
 789 0546 00C0      		rjmp .L66
 790 0548 8093 0000 		sts OSCPUUsage,r24
 791               	.L67:
 792 054c 0E94 0000 		call OSTaskStatHook
 793 0550 84E6      		ldi r24,lo8(100)
 794 0552 90E0      		ldi r25,hi8(100)
 795 0554 0E94 0000 		call OSTimeDly
 796               	.L68:
 797               	/* #APP */
 798               	 ;  970 "c:/ex1/source/os_core.c" 1
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 15


 799 0558 F894      		cli
 800               	 ;  0 "" 2
 801               	/* #NOAPP */
 802 055a 8091 0000 		lds r24,OSIdleCtr
 803 055e 9091 0000 		lds r25,(OSIdleCtr)+1
 804 0562 A091 0000 		lds r26,(OSIdleCtr)+2
 805 0566 B091 0000 		lds r27,(OSIdleCtr)+3
 806 056a 8093 0000 		sts OSIdleCtrRun,r24
 807 056e 9093 0000 		sts (OSIdleCtrRun)+1,r25
 808 0572 A093 0000 		sts (OSIdleCtrRun)+2,r26
 809 0576 B093 0000 		sts (OSIdleCtrRun)+3,r27
 810 057a 6091 0000 		lds r22,OSIdleCtr
 811 057e 7091 0000 		lds r23,(OSIdleCtr)+1
 812 0582 8091 0000 		lds r24,(OSIdleCtr)+2
 813 0586 9091 0000 		lds r25,(OSIdleCtr)+3
 814 058a 1092 0000 		sts OSIdleCtr,__zero_reg__
 815 058e 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 816 0592 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 817 0596 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 818               	/* #APP */
 819               	 ;  974 "c:/ex1/source/os_core.c" 1
 820 059a 7894      		sei
 821               	 ;  0 "" 2
 822               	/* #NOAPP */
 823 059c E114      		cp r14,__zero_reg__
 824 059e F104      		cpc r15,__zero_reg__
 825 05a0 0105      		cpc r16,__zero_reg__
 826 05a2 1105      		cpc r17,__zero_reg__
 827 05a4 01F4      		brne .L72
 828 05a6 1092 0000 		sts OSCPUUsage,__zero_reg__
 829 05aa 6091 0000 		lds r22,OSIdleCtrMax
 830 05ae 7091 0000 		lds r23,(OSIdleCtrMax)+1
 831 05b2 8091 0000 		lds r24,(OSIdleCtrMax)+2
 832 05b6 9091 0000 		lds r25,(OSIdleCtrMax)+3
 833 05ba 24E6      		ldi r18,lo8(100)
 834 05bc 30E0      		ldi r19,hi8(100)
 835 05be 40E0      		ldi r20,hlo8(100)
 836 05c0 50E0      		ldi r21,hhi8(100)
 837 05c2 0E94 0000 		call __udivmodsi4
 838 05c6 C901      		movw r24,r18
 839 05c8 DA01      		movw r26,r20
 840 05ca 7C01      		movw r14,r24
 841 05cc 8D01      		movw r16,r26
 842 05ce 00C0      		rjmp .L67
 843               	.L66:
 844 05d0 1092 0000 		sts OSCPUUsage,__zero_reg__
 845 05d4 00C0      		rjmp .L67
 846               		.size	OS_TaskStat, .-OS_TaskStat
 847               	.global	OSStatInit
 848               		.type	OSStatInit, @function
 849               	OSStatInit:
 850               	/* prologue: function */
 851               	/* frame size = 0 */
 852 05d6 82E0      		ldi r24,lo8(2)
 853 05d8 90E0      		ldi r25,hi8(2)
 854 05da 0E94 0000 		call OSTimeDly
 855               	/* #APP */
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 16


 856               	 ;  339 "c:/ex1/source/os_core.c" 1
 857 05de F894      		cli
 858               	 ;  0 "" 2
 859               	/* #NOAPP */
 860 05e0 1092 0000 		sts OSIdleCtr,__zero_reg__
 861 05e4 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 862 05e8 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 863 05ec 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 864               	/* #APP */
 865               	 ;  341 "c:/ex1/source/os_core.c" 1
 866 05f0 7894      		sei
 867               	 ;  0 "" 2
 868               	/* #NOAPP */
 869 05f2 84E6      		ldi r24,lo8(100)
 870 05f4 90E0      		ldi r25,hi8(100)
 871 05f6 0E94 0000 		call OSTimeDly
 872               	/* #APP */
 873               	 ;  343 "c:/ex1/source/os_core.c" 1
 874 05fa F894      		cli
 875               	 ;  0 "" 2
 876               	/* #NOAPP */
 877 05fc 8091 0000 		lds r24,OSIdleCtr
 878 0600 9091 0000 		lds r25,(OSIdleCtr)+1
 879 0604 A091 0000 		lds r26,(OSIdleCtr)+2
 880 0608 B091 0000 		lds r27,(OSIdleCtr)+3
 881 060c 8093 0000 		sts OSIdleCtrMax,r24
 882 0610 9093 0000 		sts (OSIdleCtrMax)+1,r25
 883 0614 A093 0000 		sts (OSIdleCtrMax)+2,r26
 884 0618 B093 0000 		sts (OSIdleCtrMax)+3,r27
 885 061c 81E0      		ldi r24,lo8(1)
 886 061e 8093 0000 		sts OSStatRdy,r24
 887               	/* #APP */
 888               	 ;  346 "c:/ex1/source/os_core.c" 1
 889 0622 7894      		sei
 890               	 ;  0 "" 2
 891               	/* epilogue start */
 892               	/* #NOAPP */
 893 0624 0895      		ret
 894               		.size	OSStatInit, .-OSStatInit
 895               	.global	OSTaskCreate
 896               		.type	OSTaskCreate, @function
 897               	OSTaskCreate:
 898 0626 AF92      		push r10
 899 0628 BF92      		push r11
 900 062a CF92      		push r12
 901 062c DF92      		push r13
 902 062e EF92      		push r14
 903 0630 FF92      		push r15
 904 0632 0F93      		push r16
 905 0634 1F93      		push r17
 906 0636 CF93      		push r28
 907 0638 DF93      		push r29
 908               	/* prologue: function */
 909               	/* frame size = 0 */
 910 063a FC01      		movw r30,r24
 911 063c 122F      		mov r17,r18
 912               	/* #APP */
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 17


 913               	 ;  172 "c:/ex1/source/os_task.c" 1
 914 063e F894      		cli
 915               	 ;  0 "" 2
 916               	/* #NOAPP */
 917 0640 C22F      		mov r28,r18
 918 0642 D0E0      		ldi r29,lo8(0)
 919 0644 CC0F      		lsl r28
 920 0646 DD1F      		rol r29
 921 0648 C050      		subi r28,lo8(-(OSTCBPrioTbl))
 922 064a D040      		sbci r29,hi8(-(OSTCBPrioTbl))
 923 064c 8881      		ld r24,Y
 924 064e 9981      		ldd r25,Y+1
 925 0650 892B      		or r24,r25
 926 0652 01F0      		breq .L80
 927               	/* #APP */
 928               	 ;  193 "c:/ex1/source/os_task.c" 1
 929 0654 7894      		sei
 930               	 ;  0 "" 2
 931               	/* #NOAPP */
 932 0656 18E2      		ldi r17,lo8(40)
 933               	.L78:
 934 0658 812F      		mov r24,r17
 935               	/* epilogue start */
 936 065a DF91      		pop r29
 937 065c CF91      		pop r28
 938 065e 1F91      		pop r17
 939 0660 0F91      		pop r16
 940 0662 FF90      		pop r15
 941 0664 EF90      		pop r14
 942 0666 DF90      		pop r13
 943 0668 CF90      		pop r12
 944 066a BF90      		pop r11
 945 066c AF90      		pop r10
 946 066e 0895      		ret
 947               	.L80:
 948 0670 81E0      		ldi r24,lo8(1)
 949 0672 90E0      		ldi r25,hi8(1)
 950 0674 9983      		std Y+1,r25
 951 0676 8883      		st Y,r24
 952               	/* #APP */
 953               	 ;  176 "c:/ex1/source/os_task.c" 1
 954 0678 7894      		sei
 955               	 ;  0 "" 2
 956               	/* #NOAPP */
 957 067a CF01      		movw r24,r30
 958 067c 20E0      		ldi r18,lo8(0)
 959 067e 30E0      		ldi r19,hi8(0)
 960 0680 0E94 0000 		call OSTaskStkInit
 961 0684 BC01      		movw r22,r24
 962 0686 812F      		mov r24,r17
 963 0688 40E0      		ldi r20,lo8(0)
 964 068a 50E0      		ldi r21,hi8(0)
 965 068c 20E0      		ldi r18,lo8(0)
 966 068e 30E0      		ldi r19,hi8(0)
 967 0690 EE24      		clr r14
 968 0692 FF24      		clr r15
 969 0694 8701      		movw r16,r14
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 18


 970 0696 CC24      		clr r12
 971 0698 DD24      		clr r13
 972 069a AA24      		clr r10
 973 069c BB24      		clr r11
 974 069e 0E94 0000 		call OS_TCBInit
 975 06a2 182F      		mov r17,r24
 976 06a4 8823      		tst r24
 977 06a6 01F4      		brne .L77
 978               	/* #APP */
 979               	 ;  180 "c:/ex1/source/os_task.c" 1
 980 06a8 F894      		cli
 981               	 ;  0 "" 2
 982               	/* #NOAPP */
 983 06aa 8091 0000 		lds r24,OSTaskCtr
 984 06ae 8F5F      		subi r24,lo8(-(1))
 985 06b0 8093 0000 		sts OSTaskCtr,r24
 986               	/* #APP */
 987               	 ;  182 "c:/ex1/source/os_task.c" 1
 988 06b4 7894      		sei
 989               	 ;  0 "" 2
 990               	/* #NOAPP */
 991 06b6 8091 0000 		lds r24,OSRunning
 992 06ba 8130      		cpi r24,lo8(1)
 993 06bc 01F4      		brne .L78
 994 06be 0E94 0000 		call OS_Sched
 995 06c2 00C0      		rjmp .L78
 996               	.L77:
 997               	/* #APP */
 998               	 ;  187 "c:/ex1/source/os_task.c" 1
 999 06c4 F894      		cli
 1000               	 ;  0 "" 2
 1001               	/* #NOAPP */
 1002 06c6 1982      		std Y+1,__zero_reg__
 1003 06c8 1882      		st Y,__zero_reg__
 1004               	/* #APP */
 1005               	 ;  189 "c:/ex1/source/os_task.c" 1
 1006 06ca 7894      		sei
 1007               	 ;  0 "" 2
 1008               	/* #NOAPP */
 1009 06cc 00C0      		rjmp .L78
 1010               		.size	OSTaskCreate, .-OSTaskCreate
 1011               	.global	OSSemPost
 1012               		.type	OSSemPost, @function
 1013               	OSSemPost:
 1014               	/* prologue: function */
 1015               	/* frame size = 0 */
 1016 06ce FC01      		movw r30,r24
 1017               	/* #APP */
 1018               	 ;  323 "c:/ex1/source/os_sem.c" 1
 1019 06d0 F894      		cli
 1020               	 ;  0 "" 2
 1021               	/* #NOAPP */
 1022 06d2 8181      		ldd r24,Z+1
 1023 06d4 8823      		tst r24
 1024 06d6 01F4      		brne .L86
 1025 06d8 8281      		ldd r24,Z+2
 1026 06da 9381      		ldd r25,Z+3
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 19


 1027 06dc 2FEF      		ldi r18,hi8(-1)
 1028 06de 8F3F      		cpi r24,lo8(-1)
 1029 06e0 9207      		cpc r25,r18
 1030 06e2 01F0      		breq .L84
 1031 06e4 0196      		adiw r24,1
 1032 06e6 9383      		std Z+3,r25
 1033 06e8 8283      		std Z+2,r24
 1034               	/* #APP */
 1035               	 ;  332 "c:/ex1/source/os_sem.c" 1
 1036 06ea 7894      		sei
 1037               	 ;  0 "" 2
 1038               	/* #NOAPP */
 1039 06ec 80E0      		ldi r24,lo8(0)
 1040 06ee 0895      		ret
 1041               	.L84:
 1042               	/* #APP */
 1043               	 ;  335 "c:/ex1/source/os_sem.c" 1
 1044 06f0 7894      		sei
 1045               	 ;  0 "" 2
 1046               	/* #NOAPP */
 1047 06f2 82E3      		ldi r24,lo8(50)
 1048 06f4 0895      		ret
 1049               	.L86:
 1050 06f6 CF01      		movw r24,r30
 1051 06f8 60E0      		ldi r22,lo8(0)
 1052 06fa 70E0      		ldi r23,hi8(0)
 1053 06fc 41E0      		ldi r20,lo8(1)
 1054 06fe 0E94 0000 		call OS_EventTaskRdy
 1055               	/* #APP */
 1056               	 ;  326 "c:/ex1/source/os_sem.c" 1
 1057 0702 7894      		sei
 1058               	 ;  0 "" 2
 1059               	/* #NOAPP */
 1060 0704 0E94 0000 		call OS_Sched
 1061 0708 80E0      		ldi r24,lo8(0)
 1062 070a 0895      		ret
 1063               		.size	OSSemPost, .-OSSemPost
 1064               	.global	OSSemPend
 1065               		.type	OSSemPend, @function
 1066               	OSSemPend:
 1067 070c 0F93      		push r16
 1068 070e 1F93      		push r17
 1069 0710 CF93      		push r28
 1070 0712 DF93      		push r29
 1071               	/* prologue: function */
 1072               	/* frame size = 0 */
 1073 0714 EC01      		movw r28,r24
 1074 0716 8A01      		movw r16,r20
 1075 0718 8091 0000 		lds r24,OSIntNesting
 1076 071c 8823      		tst r24
 1077 071e 01F4      		brne .L93
 1078               	/* #APP */
 1079               	 ;  265 "c:/ex1/source/os_sem.c" 1
 1080 0720 F894      		cli
 1081               	 ;  0 "" 2
 1082               	/* #NOAPP */
 1083 0722 8A81      		ldd r24,Y+2
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 20


 1084 0724 9B81      		ldd r25,Y+3
 1085 0726 0097      		sbiw r24,0
 1086 0728 01F0      		breq .L90
 1087 072a 0197      		sbiw r24,1
 1088 072c 9B83      		std Y+3,r25
 1089 072e 8A83      		std Y+2,r24
 1090               	/* #APP */
 1091               	 ;  268 "c:/ex1/source/os_sem.c" 1
 1092 0730 7894      		sei
 1093               	 ;  0 "" 2
 1094               	/* #NOAPP */
 1095 0732 FA01      		movw r30,r20
 1096 0734 1082      		st Z,__zero_reg__
 1097               	.L92:
 1098               	/* epilogue start */
 1099 0736 DF91      		pop r29
 1100 0738 CF91      		pop r28
 1101 073a 1F91      		pop r17
 1102 073c 0F91      		pop r16
 1103 073e 0895      		ret
 1104               	.L93:
 1105 0740 82E0      		ldi r24,lo8(2)
 1106 0742 FA01      		movw r30,r20
 1107 0744 8083      		st Z,r24
 1108 0746 DF91      		pop r29
 1109 0748 CF91      		pop r28
 1110 074a 1F91      		pop r17
 1111 074c 0F91      		pop r16
 1112 074e 0895      		ret
 1113               	.L90:
 1114 0750 E091 0000 		lds r30,OSTCBCur
 1115 0754 F091 0000 		lds r31,(OSTCBCur)+1
 1116 0758 8285      		ldd r24,Z+10
 1117 075a 8160      		ori r24,lo8(1)
 1118 075c 8287      		std Z+10,r24
 1119 075e 7187      		std Z+9,r23
 1120 0760 6087      		std Z+8,r22
 1121 0762 CE01      		movw r24,r28
 1122 0764 0E94 0000 		call OS_EventTaskWait
 1123               	/* #APP */
 1124               	 ;  276 "c:/ex1/source/os_sem.c" 1
 1125 0768 7894      		sei
 1126               	 ;  0 "" 2
 1127               	/* #NOAPP */
 1128 076a 0E94 0000 		call OS_Sched
 1129               	/* #APP */
 1130               	 ;  278 "c:/ex1/source/os_sem.c" 1
 1131 076e F894      		cli
 1132               	 ;  0 "" 2
 1133               	/* #NOAPP */
 1134 0770 E091 0000 		lds r30,OSTCBCur
 1135 0774 F091 0000 		lds r31,(OSTCBCur)+1
 1136 0778 8285      		ldd r24,Z+10
 1137 077a 80FD      		sbrc r24,0
 1138 077c 00C0      		rjmp .L94
 1139 077e 1782      		std Z+7,__zero_reg__
 1140 0780 1682      		std Z+6,__zero_reg__
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 21


 1141               	/* #APP */
 1142               	 ;  286 "c:/ex1/source/os_sem.c" 1
 1143 0782 7894      		sei
 1144               	 ;  0 "" 2
 1145               	/* #NOAPP */
 1146 0784 F801      		movw r30,r16
 1147 0786 1082      		st Z,__zero_reg__
 1148 0788 DF91      		pop r29
 1149 078a CF91      		pop r28
 1150 078c 1F91      		pop r17
 1151 078e 0F91      		pop r16
 1152 0790 0895      		ret
 1153               	.L94:
 1154 0792 CE01      		movw r24,r28
 1155 0794 0E94 0000 		call OS_EventTO
 1156               	/* #APP */
 1157               	 ;  281 "c:/ex1/source/os_sem.c" 1
 1158 0798 7894      		sei
 1159               	 ;  0 "" 2
 1160               	/* #NOAPP */
 1161 079a 8AE0      		ldi r24,lo8(10)
 1162 079c F801      		movw r30,r16
 1163 079e 8083      		st Z,r24
 1164 07a0 00C0      		rjmp .L92
 1165               		.size	OSSemPend, .-OSSemPend
 1166               	.global	OSSchedUnlock
 1167               		.type	OSSchedUnlock, @function
 1168               	OSSchedUnlock:
 1169               	/* prologue: function */
 1170               	/* frame size = 0 */
 1171 07a2 8091 0000 		lds r24,OSRunning
 1172 07a6 8130      		cpi r24,lo8(1)
 1173 07a8 01F0      		breq .L100
 1174 07aa 0895      		ret
 1175               	.L100:
 1176               	/* #APP */
 1177               	 ;  256 "c:/ex1/source/os_core.c" 1
 1178 07ac F894      		cli
 1179               	 ;  0 "" 2
 1180               	/* #NOAPP */
 1181 07ae 8091 0000 		lds r24,OSLockNesting
 1182 07b2 8823      		tst r24
 1183 07b4 01F0      		breq .L97
 1184 07b6 8150      		subi r24,lo8(-(-1))
 1185 07b8 8093 0000 		sts OSLockNesting,r24
 1186 07bc 8823      		tst r24
 1187 07be 01F4      		brne .L98
 1188 07c0 8091 0000 		lds r24,OSIntNesting
 1189 07c4 8823      		tst r24
 1190 07c6 01F0      		breq .L101
 1191               	.L98:
 1192               	/* #APP */
 1193               	 ;  263 "c:/ex1/source/os_core.c" 1
 1194 07c8 7894      		sei
 1195               	 ;  0 "" 2
 1196               	/* #NOAPP */
 1197 07ca 0895      		ret
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 22


 1198               	.L97:
 1199               	/* #APP */
 1200               	 ;  266 "c:/ex1/source/os_core.c" 1
 1201 07cc 7894      		sei
 1202               	 ;  0 "" 2
 1203               	/* #NOAPP */
 1204 07ce 0895      		ret
 1205               	.L101:
 1206               	/* #APP */
 1207               	 ;  260 "c:/ex1/source/os_core.c" 1
 1208 07d0 7894      		sei
 1209               	 ;  0 "" 2
 1210               	/* #NOAPP */
 1211 07d2 0E94 0000 		call OS_Sched
 1212 07d6 0895      		ret
 1213               		.size	OSSchedUnlock, .-OSSchedUnlock
 1214               	.global	OSTimeTick
 1215               		.type	OSTimeTick, @function
 1216               	OSTimeTick:
 1217               	/* prologue: function */
 1218               	/* frame size = 0 */
 1219 07d8 0E94 0000 		call OSTimeTickHook
 1220 07dc 8091 0000 		lds r24,OSRunning
 1221 07e0 8130      		cpi r24,lo8(1)
 1222 07e2 01F0      		breq .L109
 1223               	.L107:
 1224 07e4 0895      		ret
 1225               	.L109:
 1226 07e6 A091 0000 		lds r26,OSTCBList
 1227 07ea B091 0000 		lds r27,(OSTCBList)+1
 1228 07ee 1B96      		adiw r26,11
 1229 07f0 8C91      		ld r24,X
 1230 07f2 1B97      		sbiw r26,11
 1231 07f4 8C30      		cpi r24,lo8(12)
 1232 07f6 01F0      		breq .L107
 1233 07f8 2091 0000 		lds r18,OSRdyGrp
 1234 07fc 41E0      		ldi r20,lo8(1)
 1235 07fe 50E0      		ldi r21,hi8(1)
 1236 0800 00C0      		rjmp .L106
 1237               	.L111:
 1238 0802 1F96      		adiw r26,15
 1239 0804 8C91      		ld r24,X
 1240 0806 1F97      		sbiw r26,15
 1241 0808 282B      		or r18,r24
 1242 080a 1D96      		adiw r26,13
 1243 080c EC91      		ld r30,X
 1244 080e 1D97      		sbiw r26,13
 1245 0810 F0E0      		ldi r31,lo8(0)
 1246 0812 E050      		subi r30,lo8(-(OSRdyTbl))
 1247 0814 F040      		sbci r31,hi8(-(OSRdyTbl))
 1248 0816 8081      		ld r24,Z
 1249 0818 1E96      		adiw r26,14
 1250 081a 9C91      		ld r25,X
 1251 081c 1E97      		sbiw r26,14
 1252 081e 892B      		or r24,r25
 1253 0820 8083      		st Z,r24
 1254               	.L104:
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 23


 1255 0822 1296      		adiw r26,2
 1256 0824 0D90      		ld __tmp_reg__,X+
 1257 0826 BC91      		ld r27,X
 1258 0828 A02D      		mov r26,__tmp_reg__
 1259               	/* #APP */
 1260               	 ;  393 "c:/ex1/source/os_core.c" 1
 1261 082a 7894      		sei
 1262               	 ;  0 "" 2
 1263               	/* #NOAPP */
 1264 082c 1B96      		adiw r26,11
 1265 082e 8C91      		ld r24,X
 1266 0830 1B97      		sbiw r26,11
 1267 0832 8C30      		cpi r24,lo8(12)
 1268 0834 01F0      		breq .L110
 1269               	.L106:
 1270               	/* #APP */
 1271               	 ;  381 "c:/ex1/source/os_core.c" 1
 1272 0836 F894      		cli
 1273               	 ;  0 "" 2
 1274               	/* #NOAPP */
 1275 0838 1896      		adiw r26,8
 1276 083a 8D91      		ld r24,X+
 1277 083c 9C91      		ld r25,X
 1278 083e 1997      		sbiw r26,8+1
 1279 0840 0097      		sbiw r24,0
 1280 0842 01F0      		breq .L104
 1281 0844 0197      		sbiw r24,1
 1282 0846 1996      		adiw r26,8+1
 1283 0848 9C93      		st X,r25
 1284 084a 8E93      		st -X,r24
 1285 084c 1897      		sbiw r26,8
 1286 084e 892B      		or r24,r25
 1287 0850 01F4      		brne .L104
 1288 0852 1A96      		adiw r26,10
 1289 0854 8C91      		ld r24,X
 1290 0856 1A97      		sbiw r26,10
 1291 0858 83FF      		sbrs r24,3
 1292 085a 00C0      		rjmp .L111
 1293 085c 1996      		adiw r26,8+1
 1294 085e 5C93      		st X,r21
 1295 0860 4E93      		st -X,r20
 1296 0862 1897      		sbiw r26,8
 1297 0864 00C0      		rjmp .L104
 1298               	.L110:
 1299 0866 2093 0000 		sts OSRdyGrp,r18
 1300 086a 0895      		ret
 1301               		.size	OSTimeTick, .-OSTimeTick
 1302               	.global	OSStart
 1303               		.type	OSStart, @function
 1304               	OSStart:
 1305               	/* prologue: function */
 1306               	/* frame size = 0 */
 1307 086c 8091 0000 		lds r24,OSRunning
 1308 0870 8111      		cpse r24,__zero_reg__
 1309 0872 0895      		ret
 1310               	.L115:
 1311 0874 E091 0000 		lds r30,OSRdyGrp
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 24


 1312 0878 F0E0      		ldi r31,lo8(0)
 1313 087a E050      		subi r30,lo8(-(OSUnMapTbl))
 1314 087c F040      		sbci r31,hi8(-(OSUnMapTbl))
 1315 087e A081      		ld r26,Z
 1316 0880 EA2F      		mov r30,r26
 1317 0882 F0E0      		ldi r31,lo8(0)
 1318 0884 E050      		subi r30,lo8(-(OSRdyTbl))
 1319 0886 F040      		sbci r31,hi8(-(OSRdyTbl))
 1320 0888 E081      		ld r30,Z
 1321 088a F0E0      		ldi r31,lo8(0)
 1322 088c E050      		subi r30,lo8(-(OSUnMapTbl))
 1323 088e F040      		sbci r31,hi8(-(OSUnMapTbl))
 1324 0890 AA0F      		lsl r26
 1325 0892 AA0F      		lsl r26
 1326 0894 AA0F      		lsl r26
 1327 0896 8081      		ld r24,Z
 1328 0898 A80F      		add r26,r24
 1329 089a A093 0000 		sts OSPrioHighRdy,r26
 1330 089e A093 0000 		sts OSPrioCur,r26
 1331 08a2 B0E0      		ldi r27,lo8(0)
 1332 08a4 AA0F      		lsl r26
 1333 08a6 BB1F      		rol r27
 1334 08a8 A050      		subi r26,lo8(-(OSTCBPrioTbl))
 1335 08aa B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 1336 08ac 8D91      		ld r24,X+
 1337 08ae 9C91      		ld r25,X
 1338 08b0 9093 0000 		sts (OSTCBHighRdy)+1,r25
 1339 08b4 8093 0000 		sts OSTCBHighRdy,r24
 1340 08b8 9093 0000 		sts (OSTCBCur)+1,r25
 1341 08bc 8093 0000 		sts OSTCBCur,r24
 1342 08c0 0E94 0000 		call OSStartHighRdy
 1343 08c4 0895      		ret
 1344               		.size	OSStart, .-OSStart
 1345               	.global	OSIntExit
 1346               		.type	OSIntExit, @function
 1347               	OSIntExit:
 1348               	/* prologue: function */
 1349               	/* frame size = 0 */
 1350 08c6 8091 0000 		lds r24,OSRunning
 1351 08ca 8130      		cpi r24,lo8(1)
 1352 08cc 01F0      		breq .L121
 1353 08ce 0895      		ret
 1354               	.L121:
 1355               	/* #APP */
 1356               	 ;  180 "c:/ex1/source/os_core.c" 1
 1357 08d0 F894      		cli
 1358               	 ;  0 "" 2
 1359               	/* #NOAPP */
 1360 08d2 8091 0000 		lds r24,OSIntNesting
 1361 08d6 8823      		tst r24
 1362 08d8 01F0      		breq .L118
 1363 08da 8150      		subi r24,lo8(-(-1))
 1364 08dc 8093 0000 		sts OSIntNesting,r24
 1365 08e0 8823      		tst r24
 1366 08e2 01F0      		breq .L118
 1367               	.L119:
 1368               	/* #APP */
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 25


 1369               	 ;  193 "c:/ex1/source/os_core.c" 1
 1370 08e4 7894      		sei
 1371               	 ;  0 "" 2
 1372               	/* #NOAPP */
 1373 08e6 0895      		ret
 1374               	.L118:
 1375 08e8 8091 0000 		lds r24,OSLockNesting
 1376 08ec 8823      		tst r24
 1377 08ee 01F4      		brne .L119
 1378 08f0 E091 0000 		lds r30,OSRdyGrp
 1379 08f4 F0E0      		ldi r31,lo8(0)
 1380 08f6 E050      		subi r30,lo8(-(OSUnMapTbl))
 1381 08f8 F040      		sbci r31,hi8(-(OSUnMapTbl))
 1382 08fa 8081      		ld r24,Z
 1383 08fc 8093 0000 		sts OSIntExitY,r24
 1384 0900 E82F      		mov r30,r24
 1385 0902 F0E0      		ldi r31,lo8(0)
 1386 0904 E050      		subi r30,lo8(-(OSRdyTbl))
 1387 0906 F040      		sbci r31,hi8(-(OSRdyTbl))
 1388 0908 E081      		ld r30,Z
 1389 090a F0E0      		ldi r31,lo8(0)
 1390 090c E050      		subi r30,lo8(-(OSUnMapTbl))
 1391 090e F040      		sbci r31,hi8(-(OSUnMapTbl))
 1392 0910 982F      		mov r25,r24
 1393 0912 990F      		lsl r25
 1394 0914 990F      		lsl r25
 1395 0916 990F      		lsl r25
 1396 0918 8081      		ld r24,Z
 1397 091a 980F      		add r25,r24
 1398 091c 9093 0000 		sts OSPrioHighRdy,r25
 1399 0920 8091 0000 		lds r24,OSPrioCur
 1400 0924 9817      		cp r25,r24
 1401 0926 01F0      		breq .L119
 1402 0928 E92F      		mov r30,r25
 1403 092a F0E0      		ldi r31,lo8(0)
 1404 092c EE0F      		lsl r30
 1405 092e FF1F      		rol r31
 1406 0930 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 1407 0932 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 1408 0934 8081      		ld r24,Z
 1409 0936 9181      		ldd r25,Z+1
 1410 0938 9093 0000 		sts (OSTCBHighRdy)+1,r25
 1411 093c 8093 0000 		sts OSTCBHighRdy,r24
 1412 0940 8091 0000 		lds r24,OSCtxSwCtr
 1413 0944 9091 0000 		lds r25,(OSCtxSwCtr)+1
 1414 0948 A091 0000 		lds r26,(OSCtxSwCtr)+2
 1415 094c B091 0000 		lds r27,(OSCtxSwCtr)+3
 1416 0950 0196      		adiw r24,1
 1417 0952 A11D      		adc r26,__zero_reg__
 1418 0954 B11D      		adc r27,__zero_reg__
 1419 0956 8093 0000 		sts OSCtxSwCtr,r24
 1420 095a 9093 0000 		sts (OSCtxSwCtr)+1,r25
 1421 095e A093 0000 		sts (OSCtxSwCtr)+2,r26
 1422 0962 B093 0000 		sts (OSCtxSwCtr)+3,r27
 1423 0966 0E94 0000 		call OSIntCtxSw
 1424 096a 00C0      		rjmp .L119
 1425               		.size	OSIntExit, .-OSIntExit
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 26


 1426               	.global	OSInit
 1427               		.type	OSInit, @function
 1428               	OSInit:
 1429               	/* prologue: function */
 1430               	/* frame size = 0 */
 1431 096c 0E94 0000 		call OSInitHookBegin
 1432 0970 1092 0000 		sts OSIntNesting,__zero_reg__
 1433 0974 1092 0000 		sts OSLockNesting,__zero_reg__
 1434 0978 1092 0000 		sts OSTaskCtr,__zero_reg__
 1435 097c 1092 0000 		sts OSRunning,__zero_reg__
 1436 0980 1092 0000 		sts OSCtxSwCtr,__zero_reg__
 1437 0984 1092 0000 		sts (OSCtxSwCtr)+1,__zero_reg__
 1438 0988 1092 0000 		sts (OSCtxSwCtr)+2,__zero_reg__
 1439 098c 1092 0000 		sts (OSCtxSwCtr)+3,__zero_reg__
 1440 0990 1092 0000 		sts OSIdleCtr,__zero_reg__
 1441 0994 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 1442 0998 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 1443 099c 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 1444 09a0 1092 0000 		sts OSRdyGrp,__zero_reg__
 1445 09a4 1092 0000 		sts OSRdyTbl,__zero_reg__
 1446 09a8 1092 0000 		sts OSRdyTbl+1,__zero_reg__
 1447 09ac 1092 0000 		sts OSPrioCur,__zero_reg__
 1448 09b0 1092 0000 		sts OSPrioHighRdy,__zero_reg__
 1449 09b4 1092 0000 		sts (OSTCBHighRdy)+1,__zero_reg__
 1450 09b8 1092 0000 		sts OSTCBHighRdy,__zero_reg__
 1451 09bc 1092 0000 		sts (OSTCBCur)+1,__zero_reg__
 1452 09c0 1092 0000 		sts OSTCBCur,__zero_reg__
 1453 09c4 1092 0000 		sts (OSTCBList)+1,__zero_reg__
 1454 09c8 1092 0000 		sts OSTCBList,__zero_reg__
 1455 09cc E0E0      		ldi r30,lo8(OSTCBPrioTbl)
 1456 09ce F0E0      		ldi r31,hi8(OSTCBPrioTbl)
 1457               	.L123:
 1458 09d0 1192      		st Z+,__zero_reg__
 1459 09d2 1192      		st Z+,__zero_reg__
 1460 09d4 20E0      		ldi r18,hi8(OSTCBPrioTbl+26)
 1461 09d6 E030      		cpi r30,lo8(OSTCBPrioTbl+26)
 1462 09d8 F207      		cpc r31,r18
 1463 09da 01F4      		brne .L123
 1464 09dc 80E0      		ldi r24,lo8(OSTCBTbl+16)
 1465 09de 90E0      		ldi r25,hi8(OSTCBTbl+16)
 1466               	.L124:
 1467 09e0 FC01      		movw r30,r24
 1468 09e2 3E97      		sbiw r30,14
 1469 09e4 9183      		std Z+1,r25
 1470 09e6 8083      		st Z,r24
 1471 09e8 4096      		adiw r24,16
 1472 09ea 20E0      		ldi r18,hi8(OSTCBTbl+208)
 1473 09ec 8030      		cpi r24,lo8(OSTCBTbl+208)
 1474 09ee 9207      		cpc r25,r18
 1475 09f0 01F4      		brne .L124
 1476 09f2 1092 0000 		sts (OSTCBTbl+194)+1,__zero_reg__
 1477 09f6 1092 0000 		sts OSTCBTbl+194,__zero_reg__
 1478 09fa 80E0      		ldi r24,lo8(OSTCBTbl)
 1479 09fc 90E0      		ldi r25,hi8(OSTCBTbl)
 1480 09fe 9093 0000 		sts (OSTCBFreeList)+1,r25
 1481 0a02 8093 0000 		sts OSTCBFreeList,r24
 1482 0a06 1092 0000 		sts OSEventTbl,__zero_reg__
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 27


 1483 0a0a 80E0      		ldi r24,lo8(OSEventTbl+8)
 1484 0a0c 90E0      		ldi r25,hi8(OSEventTbl+8)
 1485 0a0e 9093 0000 		sts (OSEventTbl+4)+1,r25
 1486 0a12 8093 0000 		sts OSEventTbl+4,r24
 1487 0a16 1092 0000 		sts OSEventTbl+8,__zero_reg__
 1488 0a1a 0896      		adiw r24,8
 1489 0a1c 9093 0000 		sts (OSEventTbl+12)+1,r25
 1490 0a20 8093 0000 		sts OSEventTbl+12,r24
 1491 0a24 4097      		sbiw r24,16
 1492 0a26 1092 0000 		sts OSEventTbl+16,__zero_reg__
 1493 0a2a 1092 0000 		sts (OSEventTbl+20)+1,__zero_reg__
 1494 0a2e 1092 0000 		sts OSEventTbl+20,__zero_reg__
 1495 0a32 9093 0000 		sts (OSEventFreeList)+1,r25
 1496 0a36 8093 0000 		sts OSEventFreeList,r24
 1497 0a3a 80E0      		ldi r24,lo8(gs(OS_TaskIdle))
 1498 0a3c 90E0      		ldi r25,hi8(gs(OS_TaskIdle))
 1499 0a3e 60E0      		ldi r22,lo8(0)
 1500 0a40 70E0      		ldi r23,hi8(0)
 1501 0a42 40E0      		ldi r20,lo8(OSTaskIdleStk+127)
 1502 0a44 50E0      		ldi r21,hi8(OSTaskIdleStk+127)
 1503 0a46 2CE0      		ldi r18,lo8(12)
 1504 0a48 0E94 0000 		call OSTaskCreate
 1505 0a4c 80E0      		ldi r24,lo8(gs(OS_TaskStat))
 1506 0a4e 90E0      		ldi r25,hi8(gs(OS_TaskStat))
 1507 0a50 60E0      		ldi r22,lo8(0)
 1508 0a52 70E0      		ldi r23,hi8(0)
 1509 0a54 40E0      		ldi r20,lo8(OSTaskStatStk+127)
 1510 0a56 50E0      		ldi r21,hi8(OSTaskStatStk+127)
 1511 0a58 2BE0      		ldi r18,lo8(11)
 1512 0a5a 0E94 0000 		call OSTaskCreate
 1513 0a5e 0E94 0000 		call OSInitHookEnd
 1514               	/* epilogue start */
 1515 0a62 0895      		ret
 1516               		.size	OSInit, .-OSInit
 1517               	.global	OSMapTbl
 1518               		.data
 1519               		.type	OSMapTbl, @object
 1520               		.size	OSMapTbl, 8
 1521               	OSMapTbl:
 1522 0000 01        		.byte	1
 1523 0001 02        		.byte	2
 1524 0002 04        		.byte	4
 1525 0003 08        		.byte	8
 1526 0004 10        		.byte	16
 1527 0005 20        		.byte	32
 1528 0006 40        		.byte	64
 1529 0007 80        		.byte	-128
 1530               	.global	OSUnMapTbl
 1531               		.type	OSUnMapTbl, @object
 1532               		.size	OSUnMapTbl, 256
 1533               	OSUnMapTbl:
 1534 0008 00        		.byte	0
 1535 0009 00        		.byte	0
 1536 000a 01        		.byte	1
 1537 000b 00        		.byte	0
 1538 000c 02        		.byte	2
 1539 000d 00        		.byte	0
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 28


 1540 000e 01        		.byte	1
 1541 000f 00        		.byte	0
 1542 0010 03        		.byte	3
 1543 0011 00        		.byte	0
 1544 0012 01        		.byte	1
 1545 0013 00        		.byte	0
 1546 0014 02        		.byte	2
 1547 0015 00        		.byte	0
 1548 0016 01        		.byte	1
 1549 0017 00        		.byte	0
 1550 0018 04        		.byte	4
 1551 0019 00        		.byte	0
 1552 001a 01        		.byte	1
 1553 001b 00        		.byte	0
 1554 001c 02        		.byte	2
 1555 001d 00        		.byte	0
 1556 001e 01        		.byte	1
 1557 001f 00        		.byte	0
 1558 0020 03        		.byte	3
 1559 0021 00        		.byte	0
 1560 0022 01        		.byte	1
 1561 0023 00        		.byte	0
 1562 0024 02        		.byte	2
 1563 0025 00        		.byte	0
 1564 0026 01        		.byte	1
 1565 0027 00        		.byte	0
 1566 0028 05        		.byte	5
 1567 0029 00        		.byte	0
 1568 002a 01        		.byte	1
 1569 002b 00        		.byte	0
 1570 002c 02        		.byte	2
 1571 002d 00        		.byte	0
 1572 002e 01        		.byte	1
 1573 002f 00        		.byte	0
 1574 0030 03        		.byte	3
 1575 0031 00        		.byte	0
 1576 0032 01        		.byte	1
 1577 0033 00        		.byte	0
 1578 0034 02        		.byte	2
 1579 0035 00        		.byte	0
 1580 0036 01        		.byte	1
 1581 0037 00        		.byte	0
 1582 0038 04        		.byte	4
 1583 0039 00        		.byte	0
 1584 003a 01        		.byte	1
 1585 003b 00        		.byte	0
 1586 003c 02        		.byte	2
 1587 003d 00        		.byte	0
 1588 003e 01        		.byte	1
 1589 003f 00        		.byte	0
 1590 0040 03        		.byte	3
 1591 0041 00        		.byte	0
 1592 0042 01        		.byte	1
 1593 0043 00        		.byte	0
 1594 0044 02        		.byte	2
 1595 0045 00        		.byte	0
 1596 0046 01        		.byte	1
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 29


 1597 0047 00        		.byte	0
 1598 0048 06        		.byte	6
 1599 0049 00        		.byte	0
 1600 004a 01        		.byte	1
 1601 004b 00        		.byte	0
 1602 004c 02        		.byte	2
 1603 004d 00        		.byte	0
 1604 004e 01        		.byte	1
 1605 004f 00        		.byte	0
 1606 0050 03        		.byte	3
 1607 0051 00        		.byte	0
 1608 0052 01        		.byte	1
 1609 0053 00        		.byte	0
 1610 0054 02        		.byte	2
 1611 0055 00        		.byte	0
 1612 0056 01        		.byte	1
 1613 0057 00        		.byte	0
 1614 0058 04        		.byte	4
 1615 0059 00        		.byte	0
 1616 005a 01        		.byte	1
 1617 005b 00        		.byte	0
 1618 005c 02        		.byte	2
 1619 005d 00        		.byte	0
 1620 005e 01        		.byte	1
 1621 005f 00        		.byte	0
 1622 0060 03        		.byte	3
 1623 0061 00        		.byte	0
 1624 0062 01        		.byte	1
 1625 0063 00        		.byte	0
 1626 0064 02        		.byte	2
 1627 0065 00        		.byte	0
 1628 0066 01        		.byte	1
 1629 0067 00        		.byte	0
 1630 0068 05        		.byte	5
 1631 0069 00        		.byte	0
 1632 006a 01        		.byte	1
 1633 006b 00        		.byte	0
 1634 006c 02        		.byte	2
 1635 006d 00        		.byte	0
 1636 006e 01        		.byte	1
 1637 006f 00        		.byte	0
 1638 0070 03        		.byte	3
 1639 0071 00        		.byte	0
 1640 0072 01        		.byte	1
 1641 0073 00        		.byte	0
 1642 0074 02        		.byte	2
 1643 0075 00        		.byte	0
 1644 0076 01        		.byte	1
 1645 0077 00        		.byte	0
 1646 0078 04        		.byte	4
 1647 0079 00        		.byte	0
 1648 007a 01        		.byte	1
 1649 007b 00        		.byte	0
 1650 007c 02        		.byte	2
 1651 007d 00        		.byte	0
 1652 007e 01        		.byte	1
 1653 007f 00        		.byte	0
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 30


 1654 0080 03        		.byte	3
 1655 0081 00        		.byte	0
 1656 0082 01        		.byte	1
 1657 0083 00        		.byte	0
 1658 0084 02        		.byte	2
 1659 0085 00        		.byte	0
 1660 0086 01        		.byte	1
 1661 0087 00        		.byte	0
 1662 0088 07        		.byte	7
 1663 0089 00        		.byte	0
 1664 008a 01        		.byte	1
 1665 008b 00        		.byte	0
 1666 008c 02        		.byte	2
 1667 008d 00        		.byte	0
 1668 008e 01        		.byte	1
 1669 008f 00        		.byte	0
 1670 0090 03        		.byte	3
 1671 0091 00        		.byte	0
 1672 0092 01        		.byte	1
 1673 0093 00        		.byte	0
 1674 0094 02        		.byte	2
 1675 0095 00        		.byte	0
 1676 0096 01        		.byte	1
 1677 0097 00        		.byte	0
 1678 0098 04        		.byte	4
 1679 0099 00        		.byte	0
 1680 009a 01        		.byte	1
 1681 009b 00        		.byte	0
 1682 009c 02        		.byte	2
 1683 009d 00        		.byte	0
 1684 009e 01        		.byte	1
 1685 009f 00        		.byte	0
 1686 00a0 03        		.byte	3
 1687 00a1 00        		.byte	0
 1688 00a2 01        		.byte	1
 1689 00a3 00        		.byte	0
 1690 00a4 02        		.byte	2
 1691 00a5 00        		.byte	0
 1692 00a6 01        		.byte	1
 1693 00a7 00        		.byte	0
 1694 00a8 05        		.byte	5
 1695 00a9 00        		.byte	0
 1696 00aa 01        		.byte	1
 1697 00ab 00        		.byte	0
 1698 00ac 02        		.byte	2
 1699 00ad 00        		.byte	0
 1700 00ae 01        		.byte	1
 1701 00af 00        		.byte	0
 1702 00b0 03        		.byte	3
 1703 00b1 00        		.byte	0
 1704 00b2 01        		.byte	1
 1705 00b3 00        		.byte	0
 1706 00b4 02        		.byte	2
 1707 00b5 00        		.byte	0
 1708 00b6 01        		.byte	1
 1709 00b7 00        		.byte	0
 1710 00b8 04        		.byte	4
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 31


 1711 00b9 00        		.byte	0
 1712 00ba 01        		.byte	1
 1713 00bb 00        		.byte	0
 1714 00bc 02        		.byte	2
 1715 00bd 00        		.byte	0
 1716 00be 01        		.byte	1
 1717 00bf 00        		.byte	0
 1718 00c0 03        		.byte	3
 1719 00c1 00        		.byte	0
 1720 00c2 01        		.byte	1
 1721 00c3 00        		.byte	0
 1722 00c4 02        		.byte	2
 1723 00c5 00        		.byte	0
 1724 00c6 01        		.byte	1
 1725 00c7 00        		.byte	0
 1726 00c8 06        		.byte	6
 1727 00c9 00        		.byte	0
 1728 00ca 01        		.byte	1
 1729 00cb 00        		.byte	0
 1730 00cc 02        		.byte	2
 1731 00cd 00        		.byte	0
 1732 00ce 01        		.byte	1
 1733 00cf 00        		.byte	0
 1734 00d0 03        		.byte	3
 1735 00d1 00        		.byte	0
 1736 00d2 01        		.byte	1
 1737 00d3 00        		.byte	0
 1738 00d4 02        		.byte	2
 1739 00d5 00        		.byte	0
 1740 00d6 01        		.byte	1
 1741 00d7 00        		.byte	0
 1742 00d8 04        		.byte	4
 1743 00d9 00        		.byte	0
 1744 00da 01        		.byte	1
 1745 00db 00        		.byte	0
 1746 00dc 02        		.byte	2
 1747 00dd 00        		.byte	0
 1748 00de 01        		.byte	1
 1749 00df 00        		.byte	0
 1750 00e0 03        		.byte	3
 1751 00e1 00        		.byte	0
 1752 00e2 01        		.byte	1
 1753 00e3 00        		.byte	0
 1754 00e4 02        		.byte	2
 1755 00e5 00        		.byte	0
 1756 00e6 01        		.byte	1
 1757 00e7 00        		.byte	0
 1758 00e8 05        		.byte	5
 1759 00e9 00        		.byte	0
 1760 00ea 01        		.byte	1
 1761 00eb 00        		.byte	0
 1762 00ec 02        		.byte	2
 1763 00ed 00        		.byte	0
 1764 00ee 01        		.byte	1
 1765 00ef 00        		.byte	0
 1766 00f0 03        		.byte	3
 1767 00f1 00        		.byte	0
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 32


 1768 00f2 01        		.byte	1
 1769 00f3 00        		.byte	0
 1770 00f4 02        		.byte	2
 1771 00f5 00        		.byte	0
 1772 00f6 01        		.byte	1
 1773 00f7 00        		.byte	0
 1774 00f8 04        		.byte	4
 1775 00f9 00        		.byte	0
 1776 00fa 01        		.byte	1
 1777 00fb 00        		.byte	0
 1778 00fc 02        		.byte	2
 1779 00fd 00        		.byte	0
 1780 00fe 01        		.byte	1
 1781 00ff 00        		.byte	0
 1782 0100 03        		.byte	3
 1783 0101 00        		.byte	0
 1784 0102 01        		.byte	1
 1785 0103 00        		.byte	0
 1786 0104 02        		.byte	2
 1787 0105 00        		.byte	0
 1788 0106 01        		.byte	1
 1789 0107 00        		.byte	0
 1790               		.comm OSCtxSwCtr,4,1
 1791               		.comm OSEventFreeList,2,1
 1792               		.comm OSEventTbl,24,1
 1793               		.comm OSCPUUsage,1,1
 1794               		.comm OSIdleCtrMax,4,1
 1795               		.comm OSIdleCtrRun,4,1
 1796               		.comm OSStatRdy,1,1
 1797               		.comm OSTaskStatStk,128,1
 1798               		.comm OSIntNesting,1,1
 1799               		.comm OSIntExitY,1,1
 1800               		.comm OSLockNesting,1,1
 1801               		.comm OSPrioCur,1,1
 1802               		.comm OSPrioHighRdy,1,1
 1803               		.comm OSRdyGrp,1,1
 1804               		.comm OSRdyTbl,2,1
 1805               		.comm OSRunning,1,1
 1806               		.comm OSTaskCtr,1,1
 1807               		.comm OSIdleCtr,4,1
 1808               		.comm OSTaskIdleStk,128,1
 1809               		.comm OSTCBCur,2,1
 1810               		.comm OSTCBFreeList,2,1
 1811               		.comm OSTCBHighRdy,2,1
 1812               		.comm OSTCBList,2,1
 1813               		.comm OSTCBPrioTbl,26,1
 1814               		.comm OSTCBTbl,208,1
 1815               	.global __do_copy_data
 1816               	.global __do_clear_bss
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 ucos_ii.c
C:\Users\user\AppData\Local\Temp/ccm326m5.s:2      *ABS*:0000003f __SREG__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:3      *ABS*:0000003e __SP_H__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:4      *ABS*:0000003d __SP_L__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:5      *ABS*:00000034 __CCP__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:7      *ABS*:00000001 __zero_reg__
C:\Users\user\AppData\Local\Temp/ccm326m5.s:11     .text:00000000 OSIntEnter
                            *COM*:00000001 OSRunning
                            *COM*:00000001 OSIntNesting
C:\Users\user\AppData\Local\Temp/ccm326m5.s:29     .text:0000001a OSSchedLock
                            *COM*:00000001 OSLockNesting
C:\Users\user\AppData\Local\Temp/ccm326m5.s:57     .text:00000038 OSVersion
C:\Users\user\AppData\Local\Temp/ccm326m5.s:67     .text:0000003e OS_EventTaskRdy
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1533   .data:00000008 OSUnMapTbl
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1521   .data:00000000 OSMapTbl
                            *COM*:0000001a OSTCBPrioTbl
                            *COM*:00000001 OSRdyGrp
                            *COM*:00000002 OSRdyTbl
C:\Users\user\AppData\Local\Temp/ccm326m5.s:158    .text:000000e6 OS_EventTaskWait
                            *COM*:00000002 OSTCBCur
C:\Users\user\AppData\Local\Temp/ccm326m5.s:216    .text:00000150 OS_EventTO
C:\Users\user\AppData\Local\Temp/ccm326m5.s:261    .text:0000019e OS_EventWaitListInit
C:\Users\user\AppData\Local\Temp/ccm326m5.s:273    .text:000001a8 OSSemCreate
                            *COM*:00000002 OSEventFreeList
C:\Users\user\AppData\Local\Temp/ccm326m5.s:322    .text:000001f0 OS_TCBInit
                            *COM*:00000002 OSTCBFreeList
                            *COM*:00000002 OSTCBList
C:\Users\user\AppData\Local\Temp/ccm326m5.s:441    .text:000002bc OS_TaskIdle
                            *COM*:00000004 OSIdleCtr
C:\Users\user\AppData\Local\Temp/ccm326m5.s:471    .text:000002ec OS_Sched
                            *COM*:00000001 OSPrioHighRdy
                            *COM*:00000001 OSPrioCur
                            *COM*:00000002 OSTCBHighRdy
                            *COM*:00000004 OSCtxSwCtr
C:\Users\user\AppData\Local\Temp/ccm326m5.s:542    .text:0000037a OSTimeDly
C:\Users\user\AppData\Local\Temp/ccm326m5.s:593    .text:000003ca OSTimeDlyHMSM
C:\Users\user\AppData\Local\Temp/ccm326m5.s:747    .text:000004ec OS_TaskStat
                            *COM*:00000001 OSStatRdy
                            *COM*:00000004 OSIdleCtrMax
                            *COM*:00000001 OSCPUUsage
                            *COM*:00000004 OSIdleCtrRun
C:\Users\user\AppData\Local\Temp/ccm326m5.s:849    .text:000005d6 OSStatInit
C:\Users\user\AppData\Local\Temp/ccm326m5.s:897    .text:00000626 OSTaskCreate
                            *COM*:00000001 OSTaskCtr
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1013   .text:000006ce OSSemPost
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1066   .text:0000070c OSSemPend
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1168   .text:000007a2 OSSchedUnlock
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1216   .text:000007d8 OSTimeTick
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1304   .text:0000086c OSStart
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1347   .text:000008c6 OSIntExit
                            *COM*:00000001 OSIntExitY
C:\Users\user\AppData\Local\Temp/ccm326m5.s:1428   .text:0000096c OSInit
                            *COM*:000000d0 OSTCBTbl
                            *COM*:00000018 OSEventTbl
                            *COM*:00000080 OSTaskIdleStk
GAS LISTING C:\Users\user\AppData\Local\Temp/ccm326m5.s 			page 34


                            *COM*:00000080 OSTaskStatStk

UNDEFINED SYMBOLS
OSTCBInitHook
OSTaskCreateHook
OSTaskIdleHook
OSCtxSw
__mulsi3
__udivmodsi4
OSTaskStatHook
OSTaskStkInit
OSTimeTickHook
OSStartHighRdy
OSIntCtxSw
OSInitHookBegin
OSInitHookEnd
__do_copy_data
__do_clear_bss
